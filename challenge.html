<!DOCTYPE html>
<html lang="id" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=yes">
    <title>Saving Challenge - Monetra</title>
    <link rel="shortcut icon" href="assets/img/image.jpeg" type="image/x-icon">
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        primary: '#8b5cf6',
                        secondary: '#06b6d4',
                    },
                    screens: {
                        'xs': '480px',
                        'sm': '640px',
                        'md': '768px',
                        'lg': '1024px',
                        'xl': '1280px',
                        '2xl': '1536px',
                    }
                }
            }
        }
    </script>
    
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/lucide@latest"></script>
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Inter', sans-serif;
            overflow-x: hidden;
            transition: background-color 0.3s ease;
            -webkit-tap-highlight-color: transparent;
        }
        
        html.dark body {
            background-color: #020617;
            color: #f8fafc;
        }
        
        html.light body {
            background-color: #f8fafc;
            color: #0f172a;
        }

        /* Noise texture */
        body::before {
            content: "";
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
            opacity: 0.03;
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
        }

        /* Loading Screen - Sama seperti index */
        .loader-wrapper {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            background: #020617;
            z-index: 10000;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            transition: transform 1s cubic-bezier(0.77, 0, 0.175, 1);
        }
        
        .loader-wrapper.slide-up {
            transform: translateY(-100%);
        }

        .loader-logo-img {
            width: 100px;
            height: 100px;
            object-fit: contain;
            border-radius: 20px;
            box-shadow: 0 0 40px rgba(139, 92, 246, 0.4);
            opacity: 0;
            animation: logoReveal 1s ease forwards 0.5s;
        }

        @keyframes logoReveal {
            to { opacity: 1; transform: scale(1); }
        }

        .loader-text {
            margin-top: 24px;
            font-size: 2rem;
            font-weight: 800;
            background: linear-gradient(135deg, #ffffff 0%, #94a3b8 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            opacity: 0;
            animation: fadeIn 0.8s ease forwards 1.2s;
        }

        .loader-subtext {
            margin-top: 8px;
            font-size: 0.875rem;
            color: #64748b;
            letter-spacing: 0.2em;
            text-transform: uppercase;
            opacity: 0;
            animation: fadeIn 1s ease forwards 1.8s;
        }

        @keyframes fadeIn {
            to { opacity: 1; }
        }

        /* Navbar - Sama persis dengan index */
        .navbar {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            padding-top: 1.25rem;
            padding-bottom: 1.25rem;
        }
        
        .navbar .navbar-container {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            padding: 0;
        }
        
        .navbar.floating {
            padding-top: 0.5rem;
            padding-bottom: 0.5rem;
        }
        
        .navbar.floating .navbar-container {
            background: rgba(15, 23, 42, 0.8);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 9999px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
            padding: 0.75rem 2rem;
            max-width: 1200px;
        }
        
        html.light .navbar.floating .navbar-container {
            background: rgba(255, 255, 255, 0.9);
            border: 1px solid rgba(0, 0, 0, 0.1);
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
        }

        /* Navbar CTA - Sama seperti index */
        .navbar-cta {
            background: linear-gradient(135deg, #7c3aed 0%, #0891b2 100%);
            color: #ffffff !important;
            display: inline-block;
            transition: all 0.3s ease;
        }
        .navbar-cta:hover {
            transform: translateY(-2px);
            box-shadow: 0 12px 35px rgba(139, 92, 246, 0.45);
            background: linear-gradient(135deg, #6d28d9 0%, #0e7490 100%);
            color: #ffffff !important;
        }
        html.light .navbar-cta,
        html.light .navbar-cta:hover { color: #ffffff !important; }

        /* Cards */
        .challenge-card {
            position: relative;
            background: rgba(15, 23, 42, 0.6);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.08);
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            overflow: hidden;
        }
        
        html.light .challenge-card {
            background: #ffffff;
            border: 1px solid #e2e8f0;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.05);
        }

        .challenge-card:hover {
            transform: translateY(-4px);
            border-color: #8b5cf6;
            box-shadow: 0 20px 40px rgba(139, 92, 246, 0.2);
        }

        /* Progress Bar */
        .progress-bar {
            width: 100%;
            height: 8px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 999px;
            overflow: hidden;
        }

        @media (min-width: 768px) {
            .progress-bar {
                height: 10px;
            }
        }

        html.light .progress-bar {
            background: rgba(0, 0, 0, 0.1);
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #8b5cf6, #06b6d4);
            transition: width 0.5s ease;
            border-radius: 999px;
        }

        /* Buttons */
        .btn-primary {
            background: linear-gradient(135deg, #7c3aed 0%, #0891b2 100%);
            color: #ffffff !important;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(139, 92, 246, 0.4);
        }

        .btn-primary:active {
            transform: translateY(0);
        }

        .btn-primary *,
        .btn-primary i,
        .btn-primary span {
            color: #ffffff !important;
        }

        /* Light Mode Button Fix */
        html.light .btn-primary,
        html.light .btn-primary:hover,
        html.light .btn-primary *,
        html.light .btn-primary span {
            color: #ffffff !important;
        }

        .btn-outline {
            border: 1px solid rgba(255, 255, 255, 0.2);
            background: transparent;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .btn-outline:hover {
            background: rgba(255, 255, 255, 0.05);
            border-color: #8b5cf6;
        }

        /* Challenge Badges */
        .challenge-badge {
            padding: 0.25rem 0.75rem;
            border-radius: 999px;
            font-size: 0.7rem;
            font-weight: 600;
            display: inline-flex;
            align-items: center;
            gap: 0.25rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        @media (min-width: 640px) {
            .challenge-badge {
                padding: 0.5rem 1rem;
                font-size: 0.75rem;
                gap: 0.5rem;
            }
        }

        .badge-easy {
            background: rgba(16, 185, 129, 0.2);
            border: 1px solid rgba(16, 185, 129, 0.3);
            color: #10b981;
        }

        .badge-medium {
            background: rgba(245, 158, 11, 0.2);
            border: 1px solid rgba(245, 158, 11, 0.3);
            color: #f59e0b;
        }

        .badge-hard {
            background: rgba(239, 68, 68, 0.2);
            border: 1px solid rgba(239, 68, 68, 0.3);
            color: #ef4444;
        }

        /* Day Circle */
        .day-circle {
            width: 32px;
            height: 32px;
            border-radius: 999px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.75rem;
            font-weight: 600;
            transition: all 0.2s ease;
            cursor: pointer;
        }

        @media (min-width: 640px) {
            .day-circle {
                width: 40px;
                height: 40px;
                font-size: 0.875rem;
            }
        }

        .day-circle.completed {
            background: #10b981;
            color: white;
        }

        .day-circle.current {
            background: #8b5cf6;
            color: white;
            animation: pulse 2s infinite;
        }

        .day-circle.upcoming {
            background: rgba(255, 255, 255, 0.1);
            color: rgba(255, 255, 255, 0.5);
        }

        html.light .day-circle.upcoming {
            background: #f1f5f9;
            color: #64748b;
        }

        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(139, 92, 246, 0.7); }
            70% { box-shadow: 0 0 0 10px rgba(139, 92, 246, 0); }
            100% { box-shadow: 0 0 0 0 rgba(139, 92, 246, 0); }
        }

        /* Mobile Menu - Sama seperti index */
        .mobile-menu-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(4px);
            z-index: 9998;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }

        .mobile-menu-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        .mobile-menu {
            position: fixed;
            top: 0;
            right: 0;
            width: 85%;
            max-width: 320px;
            height: 100vh;
            background: #0f172a;
            z-index: 9999;
            transform: translateX(100%);
            transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            overflow-y: auto;
            padding: 1.5rem;
            box-shadow: -10px 0 30px rgba(0, 0, 0, 0.3);
        }
        
        html.light .mobile-menu {
            background: #ffffff;
            border-left: 1px solid #e2e8f0;
        }
        
        .mobile-menu.active {
            transform: translateX(0);
        }

        #closeMobileMenu {
            position: relative;
            z-index: 10000;
            cursor: pointer;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 999px;
            background: rgba(255, 255, 255, 0.1);
            transition: all 0.2s ease;
        }

        #closeMobileMenu:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        #closeMobileMenu:active {
            transform: scale(0.95);
        }

        #mobileMenuBtn {
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 999px;
            background: rgba(255, 255, 255, 0.1);
            transition: all 0.2s ease;
        }

        #mobileMenuBtn:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        #mobileMenuBtn:active {
            transform: scale(0.95);
        }

        /* Dropdown Menu - Sama seperti index */
        .dropdown {
            position: relative;
        }

        .dropdown-menu {
            position: absolute;
            top: 100%;
            left: 0;
            margin-top: 0.5rem;
            background: rgba(15, 23, 42, 0.95);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 1rem;
            padding: 0.5rem;
            min-width: 200px;
            opacity: 0;
            visibility: hidden;
            transform: translateY(-10px);
            transition: all 0.3s ease;
            z-index: 100;
        }

        html.light .dropdown-menu {
            background: rgba(255, 255, 255, 0.95);
            border: 1px solid rgba(0, 0, 0, 0.1);
        }

        .dropdown:hover .dropdown-menu {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }

        .dropdown-item {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0.75rem 1rem;
            border-radius: 0.5rem;
            transition: all 0.2s ease;
            color: #f8fafc;
        }

        html.light .dropdown-item {
            color: #0f172a;
        }

        .dropdown-item:hover {
            background: rgba(139, 92, 246, 0.2);
        }

        /* Hero Section */
        .hero-title {
            font-size: 2rem;
            line-height: 1.2;
        }

        @media (min-width: 640px) {
            .hero-title {
                font-size: 3rem;
            }
        }

        @media (min-width: 768px) {
            .hero-title {
                font-size: 4rem;
            }
        }

        @media (min-width: 1024px) {
            .hero-title {
                font-size: 5rem;
            }
        }

        /* Gradient Text */
        .gradient-text {
            background: linear-gradient(135deg, #a78bfa 0%, #22d3ee 50%, #818cf8 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-size: 200% auto;
            animation: gradientMove 5s linear infinite;
        }

        @keyframes gradientMove {
            0% { background-position: 0% 50%; }
            100% { background-position: 200% 50%; }
        }

        /* Section tag */
        .section-tag {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.35rem 1rem;
            border-radius: 9999px;
            border: 1px solid rgba(139, 92, 246, 0.3);
            background: rgba(139, 92, 246, 0.08);
            font-size: 0.72rem;
            font-weight: 700;
            letter-spacing: 0.15em;
            text-transform: uppercase;
            color: #a78bfa;
        }
        html.light .section-tag { 
            color: #7c3aed; 
            background: rgba(124, 58, 237, 0.08); 
            border-color: rgba(124, 58, 237, 0.3); 
        }

        /* Light Mode Fixes */
        html.light h1,
        html.light h2,
        html.light h3,
        html.light h4,
        html.light h5 {
            color: #0f172a !important;
        }
        
        html.light p,
        html.light span,
        html.light li,
        html.light a:not(.btn-primary):not(.navbar-cta):not(.dropdown-item) {
            color: #334155 !important;
        }
        
        html.light .text-gray-300,
        html.light .text-gray-400,
        html.light .text-gray-500 {
            color: #64748b !important;
        }

        /* Footer - Always White Text */
        footer,
        footer h4,
        footer p,
        footer a,
        footer span,
        footer li,
        footer div {
            color: #ffffff !important;
        }

        html.light footer,
        html.light footer h4,
        html.light footer p,
        html.light footer a,
        html.light footer span,
        html.light footer li,
        html.light footer div {
            color: #ffffff !important;
        }
        
        html.light footer .opacity-50,
        html.light footer .opacity-60,
        html.light footer .opacity-40 {
            color: rgba(255, 255, 255, 0.6) !important;
        }

        /* Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }
        
        ::-webkit-scrollbar-track {
            background: #0f172a;
        }
        
        html.light ::-webkit-scrollbar-track {
            background: #f1f5f9;
        }
        
        ::-webkit-scrollbar-thumb {
            background: #334155;
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #4b5563;
        }

        /* Touch-friendly buttons */
        button, a {
            -webkit-tap-highlight-color: transparent;
        }

        /* Smooth transitions */
        .transition-all {
            transition: all 0.3s ease;
        }

        /* Challenge Stats */
        .stat-card {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 1rem;
            padding: 1rem;
            text-align: center;
        }

        @media (min-width: 640px) {
            .stat-card {
                padding: 1.5rem;
                border-radius: 1.5rem;
            }
        }

        html.light .stat-card {
            background: #f8fafc;
        }

        /* Modal */
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(8px);
            z-index: 10001;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
            padding: 1rem;
        }

        .modal.active {
            opacity: 1;
            visibility: visible;
        }

        .modal-content {
            background: rgba(15, 23, 42, 0.95);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 1.5rem;
            padding: 1.5rem;
            max-width: 400px;
            width: 100%;
            transform: scale(0.9);
            transition: transform 0.3s ease;
        }

        @media (min-width: 640px) {
            .modal-content {
                padding: 2rem;
                border-radius: 2rem;
            }
        }

        html.light .modal-content {
            background: #ffffff;
            border: 1px solid #e2e8f0;
        }

        .modal.active .modal-content {
            transform: scale(1);
        }

        /* Toast Notification */
        .toast {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%) translateY(100px);
            background: rgba(15, 23, 42, 0.95);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 999px;
            padding: 0.75rem 1.5rem;
            color: white;
            font-size: 0.875rem;
            z-index: 10002;
            transition: transform 0.3s ease;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            white-space: nowrap;
        }

        html.light .toast {
            background: #ffffff;
            color: #0f172a;
            border: 1px solid #e2e8f0;
        }

        .toast.show {
            transform: translateX(-50%) translateY(0);
        }

        .toast.success {
            border-left: 4px solid #10b981;
        }

        .toast.error {
            border-left: 4px solid #ef4444;
        }

        .toast.info {
            border-left: 4px solid #8b5cf6;
        }

        /* Empty state */
        .empty-state {
            text-align: center;
            padding: 3rem 1rem;
        }

        .empty-state-icon {
            opacity: 0.2;
            margin: 0 auto 1.5rem;
        }
    </style>
</head>
<body>
    <!-- Loading Screen - Sama seperti index -->
    <div class="loader-wrapper" id="loader">
        <img src="assets/img/image.jpeg" alt="Monetra Logo" class="loader-logo-img">
        <div class="loader-text">MONETRA</div>
        <div class="loader-subtext">Saving Challenge</div>
    </div>

    <!-- Toast Notification -->
    <div id="toast" class="toast"></div>

    <!-- Navbar - Sama persis dengan index -->
    <nav class="navbar fixed w-full top-0 z-50 px-6">
        <div class="navbar-container max-w-7xl mx-auto flex items-center justify-between">
            <div class="flex items-center space-x-3 cursor-pointer group" onclick="window.location.href='index.html'">
                <div class="relative w-10 h-10 overflow-hidden rounded-xl border border-white/10 group-hover:border-violet-500/50 transition-colors">
                    <img src="assets/img/image.jpeg" alt="Monetra Logo" class="w-full h-full object-cover">
                </div>
                <span class="text-xl font-bold tracking-tight group-hover:text-violet-400 transition-colors">Monetra</span>
            </div>
            
            <!-- Desktop Menu -->
            <div class="hidden md:flex items-center space-x-8">
                <a href="index.html" class="text-sm font-medium hover:text-violet-400 transition-colors">Home</a>
                <a href="about.html" class="text-sm font-medium hover:text-violet-400 transition-colors">About</a>
                
                <!-- Features Dropdown -->
                <div class="dropdown">
                    <button class="text-sm font-medium hover:text-violet-400 transition-colors flex items-center gap-1">
                        Features 
                        <i data-lucide="chevron-down" class="w-4 h-4"></i>
                    </button>
                    <div class="dropdown-menu">
                        <a href="personality-test.html" class="dropdown-item">
                            <i data-lucide="user-circle" class="w-4 h-4"></i>
                            <span>Tes Kepribadian</span>
                        </a>
                        <a href="budget-simulator.html" class="dropdown-item">
                            <i data-lucide="wallet" class="w-4 h-4"></i>
                            <span>Simulasi Budget</span>
                        </a>
                        <a href="goal-tracker.html" class="dropdown-item">
                            <i data-lucide="target" class="w-4 h-4"></i>
                            <span>Target Tabungan</span>
                        </a>
                        <a href="challenge.html" class="dropdown-item">
                            <i data-lucide="trophy" class="w-4 h-4"></i>
                            <span>Saving Challenge</span>
                        </a>
                    </div>
                </div>

                <a href="contact.html" class="text-sm font-medium hover:text-violet-400 transition-colors">Contact</a>
                
                <button class="p-2.5 rounded-full bg-white/5 hover:bg-white/10 transition" id="themeToggle">
                    <i data-lucide="sun" class="w-5 h-5 hidden dark:block text-yellow-300"></i>
                    <i data-lucide="moon" class="w-5 h-5 block dark:hidden text-slate-700"></i>
                </button>
                
                <a href="personality-test.html" class="navbar-cta px-9 py-4 rounded-full font-bold text-base flex items-center gap-2 group">
                    <span>Mulai Sekarang</span>
                </a>
            </div>
            
            <!-- Mobile Menu Button -->
            <div class="md:hidden flex items-center space-x-4">
                <button class="p-2" id="themeToggleMobile">
                    <i data-lucide="sun" class="w-5 h-5 hidden dark:block"></i>
                    <i data-lucide="moon" class="w-5 h-5 block dark:hidden text-slate-700"></i>
                </button>
                <button id="mobileMenuBtn" class="p-2">
                    <i data-lucide="menu" class="w-6 h-6"></i>
                </button>
            </div>
        </div>
    </nav>
    
    <!-- Mobile Menu Overlay -->
    <div class="mobile-menu-overlay" id="mobileMenuOverlay"></div>
    
    <!-- Mobile Menu -->
    <div class="mobile-menu" id="mobileMenu">
        <div class="flex justify-end mb-8">
            <button id="closeMobileMenu">
                <i data-lucide="x" class="w-6 h-6"></i>
            </button>
        </div>
        <div class="flex flex-col space-y-4">
            <a href="index.html" class="text-lg font-medium hover:text-violet-400 transition">Home</a>
            <a href="about.html" class="text-lg font-medium hover:text-violet-400 transition">About</a>
            
            <div class="border-t border-white/10 pt-4">
                <div class="text-xs uppercase tracking-wider opacity-50 mb-3">Features</div>
                <a href="personality-test.html" class="flex items-center gap-3 py-2 hover:text-violet-400 transition">
                    <i data-lucide="user-circle" class="w-4 h-4"></i>
                    <span>Tes Kepribadian</span>
                </a>
                <a href="budget-simulator.html" class="flex items-center gap-3 py-2 hover:text-violet-400 transition">
                    <i data-lucide="wallet" class="w-4 h-4"></i>
                    <span>Simulasi Budget</span>
                </a>
                <a href="goal-tracker.html" class="flex items-center gap-3 py-2 hover:text-violet-400 transition">
                    <i data-lucide="target" class="w-4 h-4"></i>
                    <span>Target Tabungan</span>
                </a>
                <a href="challenge.html" class="flex items-center gap-3 py-2 hover:text-violet-400 transition">
                    <i data-lucide="trophy" class="w-4 h-4"></i>
                    <span>Saving Challenge</span>
                </a>
            </div>

            <a href="contact.html" class="text-lg font-medium hover:text-violet-400 transition">Contact</a>
            
            <a href="personality-test.html" class="navbar-cta px-6 py-3 rounded-full text-center mt-4">
                Mulai Sekarang
            </a>
        </div>
    </div>

    <!-- Hero Section -->
    <section class="pt-28 sm:pt-32 md:pt-36 lg:pt-40 pb-12 sm:pb-16 md:pb-20 relative overflow-hidden">
        <div class="absolute inset-0 bg-gradient-to-b from-orange-900/20 via-transparent to-transparent"></div>
        <div class="max-w-7xl mx-auto px-4 sm:px-6 relative z-10">
            <div class="text-center" data-aos="fade-down">
                <div class="inline-block mb-4 sm:mb-6">
                    <span class="section-tag">
                        30 Hari Menabung
                    </span>
                </div>
                <h1 class="hero-title font-black mb-4 sm:mb-6"><span class="gradient-text">Saving Challenge</span></h1>
                <p class="text-sm sm:text-base md:text-lg lg:text-xl opacity-70 max-w-2xl mx-auto leading-relaxed px-4">
                    Tantang dirimu untuk menabung selama 30 hari dan bangun kebiasaan finansial yang lebih baik.
                </p>
            </div>
        </div>
    </section>

    <!-- Active Challenge Section -->
    <section class="pb-16 sm:pb-20 md:pb-24" id="activeChallengeSection">
        <div class="max-w-7xl mx-auto px-4 sm:px-6">
            <div class="challenge-card p-5 sm:p-6 md:p-8 lg:p-10 rounded-2xl sm:rounded-3xl" data-aos="fade-up">
                <div class="empty-state">
                    <div class="w-20 h-20 sm:w-24 sm:h-24 md:w-28 md:h-28 lg:w-32 lg:h-32 empty-state-icon mx-auto">
                        <i data-lucide="trophy" class="w-full h-full"></i>
                    </div>
                    <h3 class="text-xl sm:text-2xl font-bold mb-2 sm:mb-3">Belum Ada Challenge Aktif</h3>
                    <p class="text-sm sm:text-base opacity-60 mb-6 sm:mb-8 max-w-md mx-auto">Pilih challenge di bawah untuk memulai perjalanan menabungmu!</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Available Challenges -->
    <section class="pb-16 sm:pb-20 md:pb-24">
        <div class="max-w-7xl mx-auto px-4 sm:px-6">
            <div class="text-center mb-8 sm:mb-10 md:mb-12" data-aos="fade-up">
                <h2 class="text-2xl sm:text-3xl md:text-4xl font-bold mb-3 sm:mb-4">Pilih Tantanganmu</h2>
                <div class="w-16 sm:w-20 h-1 sm:h-1.5 bg-gradient-to-r from-violet-500 to-cyan-500 mx-auto rounded-full mb-3 sm:mb-4"></div>
                <p class="text-sm sm:text-base md:text-lg opacity-70 max-w-2xl mx-auto">
                    Tersedia berbagai level tantangan sesuai dengan kemampuanmu
                </p>
            </div>

            <div class="grid sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6 md:gap-8" id="challengesContainer">
                <!-- Challenges will be dynamically generated -->
            </div>
        </div>
    </section>

    <!-- Tips Section -->
    <section class="pb-16 sm:pb-20 md:pb-24">
        <div class="max-w-7xl mx-auto px-4 sm:px-6">
            <div class="text-center mb-8 sm:mb-10 md:mb-12" data-aos="fade-up">
                <h2 class="text-2xl sm:text-3xl md:text-4xl font-bold mb-3 sm:mb-4">Tips Sukses Challenge</h2>
                <div class="w-16 sm:w-20 h-1 sm:h-1.5 bg-gradient-to-r from-violet-500 to-cyan-500 mx-auto rounded-full mb-3 sm:mb-4"></div>
                <p class="text-sm sm:text-base md:text-lg opacity-70 max-w-2xl mx-auto">
                    Strategi jitu untuk menyelesaikan tantangan 30 hari
                </p>
            </div>

            <div class="grid sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6">
                <div class="challenge-card p-5 sm:p-6 rounded-2xl sm:rounded-3xl" data-aos="fade-up">
                    <div class="w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-br from-violet-600 to-fuchsia-600 rounded-xl sm:rounded-2xl flex items-center justify-center mb-3 sm:mb-4">
                        <i data-lucide="target" class="w-5 h-5 sm:w-6 sm:h-6 text-white"></i>
                    </div>
                    <h3 class="text-base sm:text-lg font-bold mb-2">Tetapkan Tujuan</h3>
                    <p class="text-xs sm:text-sm opacity-60">Tentukan tujuan spesifik agar lebih termotivasi menyelesaikan challenge.</p>
                </div>

                <div class="challenge-card p-5 sm:p-6 rounded-2xl sm:rounded-3xl" data-aos="fade-up" data-aos-delay="100">
                    <div class="w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-br from-cyan-600 to-blue-600 rounded-xl sm:rounded-2xl flex items-center justify-center mb-3 sm:mb-4">
                        <i data-lucide="bell" class="w-5 h-5 sm:w-6 sm:h-6 text-white"></i>
                    </div>
                    <h3 class="text-base sm:text-lg font-bold mb-2">Buat Pengingat</h3>
                    <p class="text-xs sm:text-sm opacity-60">Set alarm harian agar tidak lupa menabung setiap hari.</p>
                </div>

                <div class="challenge-card p-5 sm:p-6 rounded-2xl sm:rounded-3xl" data-aos="fade-up" data-aos-delay="200">
                    <div class="w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-br from-emerald-600 to-green-600 rounded-xl sm:rounded-2xl flex items-center justify-center mb-3 sm:mb-4">
                        <i data-lucide="users" class="w-5 h-5 sm:w-6 sm:h-6 text-white"></i>
                    </div>
                    <h3 class="text-base sm:text-lg font-bold mb-2">Ajak Teman</h3>
                    <p class="text-xs sm:text-sm opacity-60">Challenge bareng teman lebih seru dan saling mengingatkan.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-[#020617] pt-16 sm:pt-20 md:pt-24 pb-8 sm:pb-10 md:pb-12 border-t border-white/5">
        <div class="max-w-7xl mx-auto px-4 sm:px-6">
            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8 sm:gap-10 md:gap-12 mb-12 sm:mb-14 md:mb-16">
                <div>
                    <div class="flex items-center space-x-2 sm:space-x-3 mb-4 sm:mb-6">
                        <div class="w-8 h-8 sm:w-9 sm:h-9 md:w-10 md:h-10 overflow-hidden rounded-xl border border-white/10">
                            <img src="assets/img/image.jpeg" alt="Monetra Logo" class="w-full h-full object-cover">
                        </div>
                        <span class="text-xl sm:text-2xl font-bold">Monetra</span>
                    </div>
                    <p class="opacity-50 text-xs sm:text-sm">Platform edukasi finansial untuk generasi muda Indonesia.</p>
                </div>
                
                <div>
                    <h4 class="text-sm sm:text-base font-bold mb-4 sm:mb-6">Produk</h4>
                    <ul class="space-y-2 sm:space-y-3 md:space-y-4 text-xs sm:text-sm opacity-60">
                        <li><a href="personality-test.html" class="hover:text-violet-400 transition">Tes Kepribadian</a></li>
                        <li><a href="budget-simulator.html" class="hover:text-violet-400 transition">Simulasi Budget</a></li>
                        <li><a href="goal-tracker.html" class="hover:text-violet-400 transition">Target Tabungan</a></li>
                        <li><a href="challenge.html" class="hover:text-violet-400 transition">Saving Challenge</a></li>
                    </ul>
                </div>
                
                <div>
                    <h4 class="text-sm sm:text-base font-bold mb-4 sm:mb-6">Perusahaan</h4>
                    <ul class="space-y-2 sm:space-y-3 md:space-y-4 text-xs sm:text-sm opacity-60">
                        <li><a href="about.html" class="hover:text-violet-400 transition">Tentang Kami</a></li>
                        <li><a href="contact.html" class="hover:text-violet-400 transition">Hubungi Kami</a></li>
                    </ul>
                </div>
                
                <div>
                    <h4 class="text-sm sm:text-base font-bold mb-4 sm:mb-6">Ikuti Kami</h4>
                    <div class="flex space-x-3 sm:space-x-4">
                        <a href="#" class="w-10 h-10 sm:w-11 sm:h-11 md:w-12 md:h-12 bg-white/5 rounded-xl flex items-center justify-center hover:bg-violet-600 transition border border-white/10">
                            <i data-lucide="twitter" class="w-4 h-4 sm:w-5 sm:h-5"></i>
                        </a>
                        <a href="#" class="w-10 h-10 sm:w-11 sm:h-11 md:w-12 md:h-12 bg-white/5 rounded-xl flex items-center justify-center hover:bg-violet-600 transition border border-white/10">
                            <i data-lucide="instagram" class="w-4 h-4 sm:w-5 sm:h-5"></i>
                        </a>
                        <a href="#" class="w-10 h-10 sm:w-11 sm:h-11 md:w-12 md:h-12 bg-white/5 rounded-xl flex items-center justify-center hover:bg-violet-600 transition border border-white/10">
                            <i data-lucide="linkedin" class="w-4 h-4 sm:w-5 sm:h-5"></i>
                        </a>
                    </div>
                </div>
            </div>
            
            <div class="border-t border-white/5 pt-6 sm:pt-7 md:pt-8 text-center opacity-40 text-xs">
                <p>&copy; 2026 Monetra. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script>
        // ==================== INITIALIZATION ====================
        lucide.createIcons();
        
        // Loading - Sama seperti index (3 detik)
        window.addEventListener('load', function() {
            setTimeout(() => document.getElementById('loader').classList.add('slide-up'), 3000);
        });
        
        // AOS
        AOS.init({
            duration: 900,
            once: true,
            offset: 60,
            easing: 'ease-out-cubic'
        });
        
        // ==================== THEME TOGGLE ====================
        const themeToggle = document.getElementById('themeToggle');
        const themeToggleMobile = document.getElementById('themeToggleMobile');
        const html = document.documentElement;
        
        function toggleTheme() {
            html.classList.toggle('dark');
            html.classList.toggle('light');
            localStorage.setItem('theme', html.classList.contains('dark') ? 'dark' : 'light');
            lucide.createIcons();
        }
        
        if (themeToggle) themeToggle.addEventListener('click', toggleTheme);
        if (themeToggleMobile) themeToggleMobile.addEventListener('click', toggleTheme);
        
        // Load saved theme
        const savedTheme = localStorage.getItem('theme');
        if (savedTheme === 'light') {
            html.classList.remove('dark');
            html.classList.add('light');
        } else if (!savedTheme) {
            html.classList.add('dark');
        }
        
        // ==================== FLOATING NAVBAR ====================
        const navbar = document.querySelector('.navbar');
        window.addEventListener('scroll', function() {
            if (window.scrollY > 100) {
                navbar.classList.add('floating');
            } else {
                navbar.classList.remove('floating');
            }
        });
        
        // ==================== MOBILE MENU ====================
        const mobileMenuBtn = document.getElementById('mobileMenuBtn');
        const closeMobileMenu = document.getElementById('closeMobileMenu');
        const mobileMenu = document.getElementById('mobileMenu');
        const mobileMenuOverlay = document.getElementById('mobileMenuOverlay');
        
        function openMobileMenu() {
            if (mobileMenu && mobileMenuOverlay) {
                mobileMenu.classList.add('active');
                mobileMenuOverlay.classList.add('active');
                document.body.style.overflow = 'hidden';
            }
        }
        
        function closeMobileMenuFunc() {
            if (mobileMenu && mobileMenuOverlay) {
                mobileMenu.classList.remove('active');
                mobileMenuOverlay.classList.remove('active');
                document.body.style.overflow = '';
            }
        }
        
        if (mobileMenuBtn) {
            mobileMenuBtn.addEventListener('click', openMobileMenu);
        }
        
        if (closeMobileMenu) {
            closeMobileMenu.addEventListener('click', closeMobileMenuFunc);
        }
        
        if (mobileMenuOverlay) {
            mobileMenuOverlay.addEventListener('click', closeMobileMenuFunc);
        }
        
        document.querySelectorAll('.mobile-menu a').forEach(link => {
            link.addEventListener('click', closeMobileMenuFunc);
        });
        
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape' && mobileMenu && mobileMenu.classList.contains('active')) {
                closeMobileMenuFunc();
            }
        });

        // ==================== TOAST NOTIFICATION ====================
        const toast = document.getElementById('toast');
        
        function showToast(message, type = 'info', duration = 3000) {
            toast.textContent = message;
            toast.className = `toast ${type} show`;
            
            setTimeout(() => {
                toast.classList.remove('show');
            }, duration);
        }

        // ==================== CHALLENGE DATA ====================
        let currentChallenge = null;

        // Load from localStorage
        if (localStorage.getItem('activeChallenge')) {
            currentChallenge = JSON.parse(localStorage.getItem('activeChallenge'));
        }

        // Available challenges
        const challenges = [
            {
                id: 1,
                title: '30 Hari Hemat',
                level: 'Pemula',
                levelIcon: 'smile',
                levelBadge: 'badge-easy',
                targetAmount: 500000,
                dailyAmount: 16700,
                participants: 1234,
                color: 'text-green-400',
                icon: 'smile'
            },
            {
                id: 2,
                title: '30 Hari Konsisten',
                level: 'Menengah',
                levelIcon: 'zap',
                levelBadge: 'badge-medium',
                targetAmount: 1500000,
                dailyAmount: 50000,
                participants: 892,
                color: 'text-amber-400',
                icon: 'zap'
            },
            {
                id: 3,
                title: '30 Hari Ekstrim',
                level: 'Berat',
                levelIcon: 'flame',
                levelBadge: 'badge-hard',
                targetAmount: 3000000,
                dailyAmount: 100000,
                participants: 456,
                color: 'text-red-400',
                icon: 'flame'
            },
            {
                id: 4,
                title: 'Jumat Berkah',
                level: 'Spesial',
                levelIcon: 'heart',
                levelBadge: 'badge-easy',
                targetAmount: 1000000,
                dailyAmount: 33333,
                participants: 2100,
                color: 'text-green-400',
                icon: 'heart'
            },
            {
                id: 5,
                title: 'Weekend Saver',
                level: 'Weekend',
                levelIcon: 'coffee',
                levelBadge: 'badge-medium',
                targetAmount: 800000,
                dailyAmount: 26667,
                participants: 1800,
                color: 'text-amber-400',
                icon: 'coffee'
            },
            {
                id: 6,
                title: 'Family Goal',
                level: 'Keluarga',
                levelIcon: 'users',
                levelBadge: 'badge-hard',
                targetAmount: 5000000,
                dailyAmount: 166667,
                participants: 234,
                color: 'text-red-400',
                icon: 'users'
            }
        ];

        // ==================== RENDER FUNCTIONS ====================
        function formatRupiah(number) {
            return 'Rp ' + number.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ".");
        }

        function updateChallengeDisplay() {
            const section = document.getElementById('activeChallengeSection');
            if (!section) return;

            if (!currentChallenge) {
                // Show empty state
                section.innerHTML = `
                    <div class="max-w-7xl mx-auto px-4 sm:px-6">
                        <div class="challenge-card p-5 sm:p-6 md:p-8 lg:p-10 rounded-2xl sm:rounded-3xl" data-aos="fade-up">
                            <div class="empty-state">
                                <div class="w-20 h-20 sm:w-24 sm:h-24 md:w-28 md:h-28 lg:w-32 lg:h-32 empty-state-icon mx-auto">
                                    <i data-lucide="trophy" class="w-full h-full"></i>
                                </div>
                                <h3 class="text-xl sm:text-2xl font-bold mb-2 sm:mb-3">Belum Ada Challenge Aktif</h3>
                                <p class="text-sm sm:text-base opacity-60 mb-6 sm:mb-8 max-w-md mx-auto">Pilih challenge di bawah untuk memulai perjalanan menabungmu!</p>
                            </div>
                        </div>
                    </div>
                `;
                lucide.createIcons();
                return;
            }

            // Show active challenge
            const progress = Math.round((currentChallenge.collectedAmount / currentChallenge.targetAmount) * 100);
            const daysRemaining = 30 - currentChallenge.currentDay;

            section.innerHTML = `
                <div class="max-w-7xl mx-auto px-4 sm:px-6">
                    <div class="challenge-card p-5 sm:p-6 md:p-8 lg:p-10 rounded-2xl sm:rounded-3xl">
                        <div class="flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4 sm:gap-6 mb-6 sm:mb-8">
                            <div>
                                <h2 class="text-xl sm:text-2xl md:text-3xl font-bold mb-2">${currentChallenge.title}</h2>
                                <p class="text-sm sm:text-base opacity-60">Mulai tanggal ${new Date(currentChallenge.startDate).toLocaleDateString('id-ID', { day: 'numeric', month: 'long', year: 'numeric' })}</p>
                            </div>
                            <div class="flex flex-wrap gap-3">
                                <span class="challenge-badge ${currentChallenge.levelBadge}">
                                    <i data-lucide="${currentChallenge.levelIcon}" class="w-3 h-3 sm:w-3.5 sm:h-3.5"></i>
                                    ${currentChallenge.level}
                                </span>
                                <span class="challenge-badge bg-white/10 text-white border-white/20">
                                    <i data-lucide="clock" class="w-3 h-3 sm:w-3.5 sm:h-3.5"></i>
                                    Hari ke-${currentChallenge.currentDay}
                                </span>
                            </div>
                        </div>

                        <!-- Progress Overview -->
                        <div class="grid sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4 mb-8 sm:mb-10">
                            <div class="stat-card">
                                <div class="text-2xl sm:text-3xl font-bold text-green-400 mb-1">${formatRupiah(currentChallenge.collectedAmount)}</div>
                                <p class="text-xs sm:text-sm opacity-60">Terkumpul</p>
                            </div>
                            <div class="stat-card">
                                <div class="text-2xl sm:text-3xl font-bold text-cyan-400 mb-1">${formatRupiah(currentChallenge.targetAmount)}</div>
                                <p class="text-xs sm:text-sm opacity-60">Target</p>
                            </div>
                            <div class="stat-card">
                                <div class="text-2xl sm:text-3xl font-bold text-violet-400 mb-1">${progress}%</div>
                                <p class="text-xs sm:text-sm opacity-60">Progress</p>
                            </div>
                            <div class="stat-card">
                                <div class="text-2xl sm:text-3xl font-bold text-amber-400 mb-1">${daysRemaining} hari</div>
                                <p class="text-xs sm:text-sm opacity-60">Sisa waktu</p>
                            </div>
                        </div>

                        <!-- Progress Bar -->
                        <div class="mb-8 sm:mb-10">
                            <div class="flex justify-between text-xs sm:text-sm mb-2">
                                <span>Progress</span>
                                <span class="font-bold">${progress}%</span>
                            </div>
                            <div class="progress-bar">
                                <div class="progress-fill" style="width: ${progress}%"></div>
                            </div>
                        </div>

                        <!-- Daily Tracker -->
                        <h3 class="text-lg sm:text-xl font-bold mb-4 sm:mb-6">Daily Tracker</h3>
                        <div class="grid grid-cols-5 xs:grid-cols-7 sm:grid-cols-10 gap-2 sm:gap-3 mb-8 sm:mb-10">
                            ${generateDailyTrackerHTML()}
                        </div>

                        <!-- Action Buttons -->
                        <div class="flex flex-col sm:flex-row gap-3 sm:gap-4">
                            <button class="btn-primary flex-1 py-3 sm:py-4 rounded-xl font-bold text-sm sm:text-base flex items-center justify-center gap-2" onclick="markToday()">
                                <i data-lucide="plus-circle" class="w-4 h-4 sm:w-5 sm:h-5"></i>
                                Tandai Hari Ini
                            </button>
                            <button class="btn-outline flex-1 py-3 sm:py-4 rounded-xl font-bold text-sm sm:text-base flex items-center justify-center gap-2" onclick="shareProgress()">
                                <i data-lucide="share-2" class="w-4 h-4 sm:w-5 sm:h-5"></i>
                                Bagikan Progress
                            </button>
                            <button class="btn-outline py-3 sm:py-4 px-4 rounded-xl font-bold text-sm sm:text-base flex items-center justify-center gap-2" onclick="resetChallenge()">
                                <i data-lucide="refresh-cw" class="w-4 h-4 sm:w-5 sm:h-5"></i>
                                Reset
                            </button>
                        </div>
                    </div>
                </div>
            `;

            // Re-initialize lucide icons after DOM update
            setTimeout(() => {
                lucide.createIcons();
            }, 0);
        }

        function generateDailyTrackerHTML() {
            if (!currentChallenge || !currentChallenge.days) return '';
            
            let html = '';
            for (let i = 1; i <= 30; i++) {
                const day = currentChallenge.days.find(d => d.day === i);
                html += `<div class="day-circle ${day.status}" onclick="markDay(${i})">${i}</div>`;
            }
            return html;
        }

        function renderChallenges() {
            const container = document.getElementById('challengesContainer');
            if (!container) return;
            
            let html = '';
            challenges.forEach((challenge, index) => {
                html += `
                    <div class="challenge-card p-5 sm:p-6 rounded-2xl sm:rounded-3xl" data-aos="fade-up" data-aos-delay="${index * 100}">
                        <div class="flex justify-between items-start mb-4">
                            <span class="challenge-badge ${challenge.levelBadge}">
                                <i data-lucide="${challenge.levelIcon}" class="w-3 h-3 sm:w-3.5 sm:h-3.5"></i>
                                ${challenge.level}
                            </span>
                            <span class="text-lg sm:text-xl font-bold ${challenge.color}">${formatRupiah(challenge.targetAmount)}</span>
                        </div>
                        <h3 class="text-lg sm:text-xl font-bold mb-2">${challenge.title}</h3>
                        <p class="text-xs sm:text-sm opacity-60 mb-4">Tantangan level ${challenge.level.toLowerCase()}</p>
                        <div class="space-y-2 mb-4">
                            <div class="flex items-center gap-2 text-xs sm:text-sm">
                                <i data-lucide="check-circle" class="w-4 h-4 text-green-400"></i>
                                <span>Target: ${formatRupiah(challenge.targetAmount)}</span>
                            </div>
                            <div class="flex items-center gap-2 text-xs sm:text-sm">
                                <i data-lucide="calendar" class="w-4 h-4 text-blue-400"></i>
                                <span>${formatRupiah(challenge.dailyAmount)}/hari</span>
                            </div>
                            <div class="flex items-center gap-2 text-xs sm:text-sm">
                                <i data-lucide="users" class="w-4 h-4 text-violet-400"></i>
                                <span>${challenge.participants.toLocaleString()} peserta</span>
                            </div>
                        </div>
                        <button class="w-full btn-primary py-2.5 sm:py-3 rounded-xl font-semibold text-xs sm:text-sm" onclick="startChallenge(${challenge.id})">
                            Mulai Challenge
                        </button>
                    </div>
                `;
            });
            
            container.innerHTML = html;
            lucide.createIcons();
        }

        // ==================== INTERACTIVE FUNCTIONS ====================
        function startChallenge(challengeId) {
            const challenge = challenges.find(c => c.id === challengeId);
            if (!challenge) return;

            // Create new challenge
            currentChallenge = {
                id: challenge.id,
                title: challenge.title,
                level: challenge.level,
                levelIcon: challenge.levelIcon,
                levelBadge: challenge.levelBadge,
                startDate: new Date().toISOString().split('T')[0],
                targetAmount: challenge.targetAmount,
                collectedAmount: 0,
                currentDay: 1,
                dailyAmount: challenge.dailyAmount,
                days: []
            };

            // Initialize 30 days
            for (let i = 1; i <= 30; i++) {
                currentChallenge.days.push({
                    day: i,
                    status: i === 1 ? 'current' : 'upcoming',
                    amount: 0
                });
            }

            // Save to localStorage
            localStorage.setItem('activeChallenge', JSON.stringify(currentChallenge));

            showToast(`Challenge "${challenge.title}" berhasil dimulai!`, 'success');
            
            // Update display immediately
            setTimeout(() => {
                updateChallengeDisplay();
                
                // Scroll to active challenge
                setTimeout(() => {
                    const section = document.getElementById('activeChallengeSection');
                    if (section) {
                        section.scrollIntoView({ behavior: 'smooth', block: 'start' });
                    }
                }, 100);
            }, 100);
        }

        function markDay(day) {
            if (!currentChallenge) return;
            
            const dayObj = currentChallenge.days.find(d => d.day === day);
            
            if (dayObj.status === 'upcoming') {
                showToast('Hari ini belum bisa ditandai!', 'error');
                return;
            }
            
            if (dayObj.status === 'completed') {
                showToast('Hari ini sudah ditandai!', 'info');
                return;
            }
            
            if (dayObj.status === 'current') {
                // Mark as completed
                dayObj.status = 'completed';
                dayObj.amount = currentChallenge.dailyAmount;
                currentChallenge.collectedAmount += currentChallenge.dailyAmount;
                
                // Move to next day if not the last day
                if (currentChallenge.currentDay < 30) {
                    currentChallenge.currentDay++;
                    const nextDay = currentChallenge.days.find(d => d.day === currentChallenge.currentDay);
                    if (nextDay) {
                        nextDay.status = 'current';
                    }
                }
                
                // Save to localStorage
                localStorage.setItem('activeChallenge', JSON.stringify(currentChallenge));
                
                // Update display immediately
                setTimeout(() => {
                    updateChallengeDisplay();
                }, 0);
                
                showToast(`Hari ke-${day} berhasil ditandai! +${formatRupiah(currentChallenge.dailyAmount)}`, 'success');
                
                // Check if challenge completed
                if (currentChallenge.currentDay > 30 || currentChallenge.collectedAmount >= currentChallenge.targetAmount) {
                    setTimeout(() => {
                        celebrateCompletion();
                    }, 500);
                }
            }
        }

        function markToday() {
            if (!currentChallenge) {
                showToast('Belum ada challenge aktif!', 'error');
                return;
            }
            markDay(currentChallenge.currentDay);
        }

        function shareProgress() {
            if (!currentChallenge) {
                showToast('Belum ada challenge aktif!', 'error');
                return;
            }

            const progress = Math.round((currentChallenge.collectedAmount / currentChallenge.targetAmount) * 100);
            const text = `Saya sudah menabung ${formatRupiah(currentChallenge.collectedAmount)} dari target ${formatRupiah(currentChallenge.targetAmount)} di challenge ${currentChallenge.title}!

Progress: ${progress}%
Hari ke-${currentChallenge.currentDay}/30

Ayo ikutan saving challenge di Monetra! `;
            
            if (navigator.share) {
                navigator.share({
                    title: 'Saving Challenge Progress',
                    text: text,
                    url: window.location.href
                }).catch(() => {
                    copyToClipboard(text);
                });
            } else {
                copyToClipboard(text);
            }
        }

        function copyToClipboard(text) {
            navigator.clipboard.writeText(text).then(() => {
                showToast('Progress berhasil disalin!', 'success');
            }).catch(() => {
                showToast('Gagal menyalin progress', 'error');
            });
        }

        function resetChallenge() {
            if (!currentChallenge) return;
            
            if (confirm('Yakin ingin mereset challenge ini? Progress akan hilang.')) {
                currentChallenge = null;
                localStorage.removeItem('activeChallenge');
                
                setTimeout(() => {
                    updateChallengeDisplay();
                }, 0);
                
                showToast('Challenge berhasil direset', 'info');
            }
        }

        function celebrateCompletion() {
            // Create confetti
            for (let i = 0; i < 50; i++) {
                const confetti = document.createElement('div');
                confetti.style.position = 'fixed';
                confetti.style.width = '10px';
                confetti.style.height = '10px';
                confetti.style.background = `hsl(${Math.random() * 360}, 100%, 50%)`;
                confetti.style.left = Math.random() * 100 + '%';
                confetti.style.top = '-10px';
                confetti.style.borderRadius = '50%';
                confetti.style.zIndex = '10002';
                confetti.style.animation = `confettiFall 3s ease-in-out forwards`;
                confetti.style.animationDelay = Math.random() * 2 + 's';
                document.body.appendChild(confetti);
                
                setTimeout(() => {
                    if (confetti.parentNode) confetti.remove();
                }, 5000);
            }
            
            // Add confetti animation
            const style = document.createElement('style');
            style.textContent = `
                @keyframes confettiFall {
                    0% { transform: translateY(0) rotate(0deg); opacity: 1; }
                    100% { transform: translateY(100vh) rotate(720deg); opacity: 0; }
                }
            `;
            document.head.appendChild(style);
            
            setTimeout(() => {
                showToast(' Selamat! Challenge selesai! ', 'success', 5000);
            }, 500);
        }

        // ==================== INITIAL RENDER ====================
        updateChallengeDisplay();
        renderChallenges();

        // ==================== MAKE FUNCTIONS GLOBAL ====================
        window.startChallenge = startChallenge;
        window.markDay = markDay;
        window.markToday = markToday;
        window.shareProgress = shareProgress;
        window.resetChallenge = resetChallenge;
    </script>
</body>
</html>